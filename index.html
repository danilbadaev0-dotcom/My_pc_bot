<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
  <title>PC Remote</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial;background:#0e0f13;color:#eaeaea}
    .wrap{padding:14px;max-width:720px;margin:0 auto}
    h1{font-size:18px;margin:8px 0 12px}
    .row{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:10px}
    .btn{flex:1 1 auto;padding:12px;border-radius:12px;background:#1f232b;border:1px solid #2d3440;text-align:center;cursor:pointer;user-select:none}
    .btn:active{transform:scale(.98)}
    .input{width:100%;padding:12px;border-radius:12px;border:1px solid #2d3440;background:#11151b;color:#eaeaea}
    .kbd{display:flex;gap:6px;flex-wrap:wrap;margin:6px 0}
    .sw{display:flex;align-items:center;gap:8px;margin:6px 0}
    .small{font-size:12px;opacity:.8}
    .grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    .grid4{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
  </style>
</head>
<body>
<div class="wrap">
  <h1>PC Remote</h1>

  <!-- –ú–µ–¥–∏–∞ –∏ –≥—Ä–æ–º–∫–æ—Å—Ç—å -->
  <div class="row">
    <div class="btn" id="mediaPrev">‚èÆ</div>
    <div class="btn" id="mediaPlay">‚èØ</div>
    <div class="btn" id="mediaNext">‚è≠</div>
  </div>
  <div class="row">
    <div class="btn" id="volDown">üîâ ‚àí</div>
    <div class="btn" id="mute">üîá</div>
    <div class="btn" id="volUp">üîä +</div>
  </div>

  <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
  <div class="sw">
    <input id="focusToggle" type="checkbox" />
    <label for="focusToggle">–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç–∞</label>
  </div>
  <input id="textInput" class="input" placeholder="–ù–∞–ø–µ—á–∞—Ç–∞–π —Ç–µ–∫—Å—Ç –∑–¥–µ—Å—å" autocomplete="on" />
  <div class="row">
    <div class="btn" id="sendText">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</div>
    <div class="btn" id="paste">–í—Å—Ç–∞–≤–∏—Ç—å (Ctrl+V)</div>
    <div class="btn" id="getClipboard">–°—á–∏—Ç–∞—Ç—å –±—É—Ñ–µ—Ä</div>
  </div>

  <!-- –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã -->
  <div class="kbd">
    <label><input type="checkbox" id="win"> WIN</label>
    <label><input type="checkbox" id="ctrl"> CTRL</label>
    <label><input type="checkbox" id="alt"> ALT</label>
    <label><input type="checkbox" id="shift"> SHIFT</label>
  </div>

  <!-- –°—Ç—Ä–µ–ª–∫–∏ –∫–∞–∫ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ (–∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¢) -->
  <div class="grid3" style="max-width:360px;margin:0 auto 6px">
    <div></div>
    <div class="btn" data-k="up">‚ñ≤</div>
    <div></div>
    <div class="btn" data-k="left">‚óÄ</div>
    <div class="btn" data-k="down">‚ñº</div>
    <div class="btn" data-k="right">‚ñ∂</div>
  </div>

  <!-- –î–æ–ø. –∫–ª–∞–≤–∏—à–∏ -->
  <div class="grid4">
    <div class="btn" data-k="esc">Esc</div>
    <div class="btn" data-k="tab">Tab</div>
    <div class="btn" data-k="enter">Enter</div>
    <div class="btn" data-k="backspace">Backspace</div>
  </div>

  <p class="small">F1‚Ä¶F12 –ø–∏—à–∏ –∫–∞–∫ F1, F2, ... ‚Ä¢ Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç —Ç–µ–∫—Å—Ç –≤ –±—É—Ñ–µ—Ä –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç ¬´–í—Å—Ç–∞–≤–∏—Ç—å¬ª.</p>
</div>

<script>
const tg = window.Telegram.WebApp; tg.expand();
const el = id => document.getElementById(id);
const send = (type, payload={}) => tg.sendData(JSON.stringify({type, payload}));

// —Ñ–æ–∫—É—Å
const focusToggle = el('focusToggle'), textInput = el('textInput');
const ensureFocus = ()=>{ if(focusToggle.checked) setTimeout(()=>textInput.focus(), 50); };
document.addEventListener('visibilitychange', ensureFocus); focusToggle.addEventListener('change', ensureFocus);

// –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞
el('sendText').onclick = ()=> { const t = textInput.value; if(t) send('type_text', {text:t}); };
textInput.addEventListener('keydown', e=>{
  if(e.key==='Enter'){ send('set_clipboard',{text:textInput.value}); send('paste'); e.preventDefault(); }
});

// –±—É—Ñ–µ—Ä / –≤—Å—Ç–∞–≤–∫–∞
el('paste').onclick        = ()=> send('paste');
el('getClipboard').onclick = ()=> send('get_clipboard');

// –∫–ª–∞–≤–∏—à–∏
const mod = id => el(id).checked;
function sendKey(k, repeat=1){ send('send_keys',{key:k, win:mod('win'), ctrl:mod('ctrl'), alt:mod('alt'), shift:mod('shift'), repeat}); ensureFocus(); }
document.querySelectorAll('[data-k]').forEach(b=> b.onclick = ()=> sendKey(b.getAttribute('data-k')) );

// –º–µ–¥–∏–∞ –∏ –∑–≤—É–∫
el('mediaPrev').onclick = ()=> send('media',  {action:'prev'});
el('mediaPlay').onclick = ()=> send('media',  {action:'playpause'});
el('mediaNext').onclick = ()=> send('media',  {action:'next'});
el('mute').onclick      = ()=> send('toggle_mute');
el('volDown').onclick   = ()=> send('volume', {action:'down', repeat:2});
el('volUp').onclick     = ()=> send('volume', {action:'up',   repeat:2});
</script>
</body>
</html>
